# 「高機能トラック見積もり管理ツール」取扱説明書
作成者: UMEBAN

## 1. はじめに

このツールは、トラックの修理や架装に関する見積もりを効率的に作成、管理するためのアプリケーションです。全ての機能が1つのHTMLファイルで完結しており、インターネット接続なしでブラウザ上で動作します。

**【重要】**
データは全てお使いの**ブラウザ内（ローカルストレージ）に保存されます**。そのため、データはPCや使用するブラウザごとに独立しています。別のPCで作業したり、データをバックアップしたりする場合は、「[6. データの移行（バックアップと復元）](#6-データの移行バックアップと復元)」を参照してください。

## 2. 基本的な使い方

初めてツールを起動してから、見積もりを作成するまでの基本的な流れです。

### ステップ1: 会社設定
まず、見積もりを発行する会社の情報と労務単価を設定します。
1. 画面上部の**「🏢 会社設定」**エリアを確認します。
2. 初めて利用する場合は「標準設定」が選択されています。労務単価が自社のものと異なる場合は、数値を直接修正してください。
3. 複数の取引先や自社拠点を管理したい場合は**「会社追加」**ボタンから新しい会社情報（会社名、労務単価）を登録できます。

### ステップ2: 見積もり情報の入力
**「📝 見積もり情報」**エリアに、今回の見積もりの基本情報を入力します。
- **プロジェクト名**: 「〇〇様 あおり修理」など、分かりやすい名前を入力します。
- **お客様名**: 見積書の宛先となるお客様名を入力します。
- **車両情報**: 対象となる車両の車種や年式などを入力します。

### ステップ3: 見積もり項目の追加
**「🔧 作業追加」**または**「📦 資材追加」**ボタンを押して、見積もりの項目を追加します。

### ステップ4: 分類の入力（大・中・小）
追加された行の**「分類 (大・中・小)」**の入力欄に見積もり内容を入力します。
- 入力欄をクリックすると、過去に登録したマスターデータが候補として表示されます。
- キーボードで文字を打つと、候補が絞り込まれます（オートコンプリート）。

#### ★【重要】マスターへの自動登録機能
このツールの最も強力な機能です。
もし、候補にない新しい分類名（例: 新しい作業内容）を直接入力して、入力欄からフォーカスを外す（他の場所をクリックするなど）と、**「マスターに追加しますか？」**という確認画面が表示されます。
- **「OK」を押す**: 新しい単価や係数を入力する画面が表示されます。入力完了後にその項目がマスターデータに自動で登録され、次回から候補として表示されるようになります。
- **「キャンセル」を押す**: 今回の見積もりにのみ、その項目が使用されます。

この機能により、**見積もりを作成しながら、自然とマスターデータが充実していきます。**

### ステップ5: 数量とメモの入力
各項目の**「数量」**と**「メモ」**を必要に応じて入力・修正します。

### ステップ6: 金額の確認
全ての項目を入力すると、画面下部の**「💰 見積もり合計」**エリアに作業費、資材費、合計金額が自動で計算・表示されます。

---

## 3. 見積もりの保存と管理

作成した複数の見積もりは、フォルダ分けして整理・保存できます。

1. **「💾 保存/読込管理」**ボタンを押すと、管理ウィンドウが開きます。
2. 中には、過去に保存した見積もりやフォルダがツリー形式で表示されます。
3. ツリー内の項目を選択し、各ボタンで操作します。
    - **ここに新規保存**: 現在作成中の見積もりを、選択中のフォルダ内に新しいファイルとして保存します。
    - **選択項目を上書き**: 選択中の見積もりファイル（📄）を、現在の内容で上書きします。
    - **選択項目を読込**: 選択中の見積もりファイル（📄）の内容を呼び出します。**（※現在の作業内容は破棄されます）**
    - **フォルダ作成**: 選択中のフォルダ（📁）の中に、新しいフォルダを作成します。
    - **名称変更**: 選択中のフォルダやファイルの名前を変更します。
    - **削除**: 選択中のフォルダやファイルを削除します。**（※フォルダを削除すると中のファイルも全て消えます）**

---

## 4. マスターデータの編集

作業や資材のマスターデータを直接編集・管理できます。

1. **「⚙️ マスター編集」**ボタンを押すと、マスターデータ編集ウィンドウが開きます。
2. 「作業マスター」と「資材マスター」の一覧が表示されます。
3. 各項目の操作
    - **編集**: 「編集」ボタンを押すと、その行が入力モードに変わります。分類名や係数・単価を修正し、「保存」ボタンを押すと内容が更新されます。
    - **削除**: 「×」ボタンで、そのマスター項目を完全に削除します。

---

## 5. 印刷とCSV出力

- **🖨️ 印刷**: 現在の見積もりを、印刷に適した綺麗なレイアウトで新しいタブに表示します。その新しいタブからブラウザの印刷機能を使って、紙やPDFに出力してください。
- **📊 CSV出力**: 現在の見積もり内容を、表計算ソフト（Excelなど）で開けるCSVファイルとしてダウンロードします。

---

## 6. データの移行（バックアップと復元）

PCを買い替えたり、別のPCとデータを同期したい場合にを使います。

### エクスポート（バックアップ作成）
1. **「↓ 全データエクスポート」**ボタンを押します。
2. `estimate_tool_backup.json` というファイルがダウンロードされます。このファイルに**全てのデータ（会社設定、マスター、保存した全見積もり）**が含まれています。
3. このファイルをUSBメモリやクラウドストレージなどに保存して保管・移動してください。**定期的なバックアップを推奨します。**

### インポート（データ復元）
1. 新しいPCや、データを復元したいブラウザでツールを開きます。
2. **「↑ 全データインポート」**ボタンを押します。
3. ファイル選択画面が開くので、以前エクスポートした `estimate_tool_backup.json` ファイルを選択します。
4. **「現在の全てのデータを上書きしてインポートしますか？」**と警告が出ます。
    - **OK**: 現在のブラウザ内の全データがファイルの内容で上書きされ、データが完全に復元されます。

---

## 7. 著作権

&copy; 2025 UMEBAN. All Rights Reserved.
